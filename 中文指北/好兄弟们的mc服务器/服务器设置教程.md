---
layout: default
title: 服务器设置教程
nav_order: 2
parent: 好兄弟们的mc服务器
grand_parent: 中文指北
---
## 1. adduser
```
adduser colgrave
```
## 2. change user group
```
usermod -aG sudo colgrave
```
## 3. disable root ssh
login as new user
```
sudo vim /etc/ssh/sshd_config
```
```
sudo service sshd restart
```
## 5. update
```
sudo apt update && sudo apt upgrade -y
```
## 6. auto update
```
sudo vim /etc/apt/apt.conf.d/50unattended-upgrades
```
check
`apt-config dump APT::Periodic::Unattended-Upgrade`
## 7. Pufferpanel
```
curl -s https://packagecloud.io/install/repositories/pufferpanel/pufferpanel/script.deb.sh | sudo bash
```
## 8. Caddy
```
sudo apt install -y debian-keyring debian-archive-keyring apt-transport-https
curl -1sLf 'https://dl.cloudsmith.io/public/caddy/stable/gpg.key' | sudo gpg --dearmor -o /usr/share/keyrings/caddy-stable-archive-keyring.gpg
curl -1sLf 'https://dl.cloudsmith.io/public/caddy/stable/debian.deb.txt' | sudo tee /etc/apt/sources.list.d/caddy-stable.list
```
## 9. install
```
sudo apt update
sudo apt install openjdk-17-jre-headless pufferpanel caddy -y
sudo apt autoremove
```
## 10. firewall
```
sudo ufw allow ssh
sudo ufw allow https
sudo ufw allow 8080/tcp
sudo ufw allow 25565/tcp
sudo ufw enable
sudo ufw reload
```
## 11. adding an admin for pufferpanel
```
sudo pufferpanel user add
```
## 12. run service
```
sudo systemctl enable --now pufferpanel
sudo systemctl enable --now caddy
```
